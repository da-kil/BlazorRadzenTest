@using Microsoft.AspNetCore.Components.Authorization
@using Radzen.Blazor

<input type="checkbox" title="Navigation menu" class="navbar-toggler" />

<div class="nav-scrollable" onclick="document.querySelector('.navbar-toggler').click()">
	<RadzenPanelMenu Style="width: 100%; padding: 0;">
		<!-- Main Navigation -->
		<AuthorizeView Policy="HR">
			<Authorized>
				<RadzenPanelMenuItem Text="Dashboard" Path="hr-dashboard" Icon="dashboard" />
			</Authorized>
			<NotAuthorized>
				<AuthorizeView Policy="TeamLead">
					<Authorized Context="teamLeadContext">
						<RadzenPanelMenuItem Text="Dashboard" Path="manager-dashboard" Icon="dashboard" />
					</Authorized>
					<NotAuthorized Context="employeeContext">
						<RadzenPanelMenuItem Text="Dashboard" Path="dashboard" Icon="dashboard" />
					</NotAuthorized>
				</AuthorizeView>
			</NotAuthorized>
		</AuthorizeView>

		<!-- My Work Section -->
		<RadzenPanelMenuItem Text="My Work" Icon="work" Expanded="true">
			<RadzenPanelMenuItem Text="My Questionnaires" Path="my-questionnaires" Icon="assignment" />

			<AuthorizeView Policy="TeamLead">
				<Authorized>
					<RadzenPanelMenuItem Text="Team Overview" Path="team/questionnaires" Icon="group" />
				</Authorized>
			</AuthorizeView>

			<AuthorizeView Policy="HR">
				<Authorized>
					<RadzenPanelMenuItem Text="Organization" Path="organization/questionnaires" Icon="business" />
				</Authorized>
			</AuthorizeView>
		</RadzenPanelMenuItem>

		<!-- Management Section -->
		<AuthorizeView Policy="HR">
			<Authorized>
				<RadzenPanelMenuItem Text="Management" Icon="settings" Expanded="false">
					<RadzenPanelMenuItem Text="Create Questionnaire" Path="questionnaire-builder" Icon="add_circle" />
					<RadzenPanelMenuItem Text="Manage Questionnaires" Path="questionnaire-management" Icon="list" />
					<RadzenPanelMenuItem Text="Assignments" Path="questionnaire-assignments" Icon="assignment_ind" />
				</RadzenPanelMenuItem>
			</Authorized>
		</AuthorizeView>

		<!-- Administration Section -->
		<AuthorizeView Policy="HR">
			<Authorized>
				<RadzenPanelMenuItem Text="Administration" Icon="admin_panel_settings" Expanded="false">
					<RadzenPanelMenuItem Text="Categories" Path="admin/categories" Icon="category" />
					<RadzenPanelMenuItem Text="Role Management" Path="admin/roles" Icon="manage_accounts" />

					<AuthorizeView Policy="Admin">
						<Authorized Context="adminContext">
							<RadzenPanelMenuItem Text="Projection Replay" Path="admin/projection-replay" Icon="replay" />
						</Authorized>
					</AuthorizeView>
				</RadzenPanelMenuItem>
			</Authorized>
		</AuthorizeView>
	</RadzenPanelMenu>
</div>
