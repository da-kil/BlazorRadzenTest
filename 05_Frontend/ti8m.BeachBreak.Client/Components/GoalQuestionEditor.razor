@using Radzen
@using Radzen.Blazor
@using ti8m.BeachBreak.Client.Models
@inject DialogService DialogService

<div class="goal-editor">
    <RadzenCard Class="info-card mb-4 p-4">
        <div class="text-center">
            <RadzenIcon Icon="flag" Style="font-size: 3rem; color: var(--rz-primary); margin-bottom: 1rem;" />
            <RadzenText TextStyle="TextStyle.H5" Class="mb-3">
                Goal Question Type
            </RadzenText>
            <RadzenText TextStyle="TextStyle.Body1" Class="text-muted mb-3">
                No template configuration is required for Goal questions.
            </RadzenText>
        </div>
    </RadzenCard>

    <RadzenAlert AlertStyle="AlertStyle.Info" Class="mb-4" ShowIcon="true">
        <RadzenText TextStyle="TextStyle.Body2">
            <strong>How Goal Questions Work:</strong>
        </RadzenText>
        <ul class="mt-2 mb-0">
            <li>Goals are added dynamically during the questionnaire in-progress states</li>
            <li>Both Employee and Manager can add goals separately during their completion phases</li>
            <li>Goals can be linked to predecessor questionnaires for rating previous period goals</li>
            <li>Each goal includes: objective, timeframe, measurement metric, and weighting percentage</li>
        </ul>
    </RadzenAlert>

    <RadzenAlert AlertStyle="AlertStyle.Success" Class="mb-4" ShowIcon="true">
        <RadzenText TextStyle="TextStyle.Body2">
            <strong>Note:</strong> This question type is only available when "Requires Manager Review" is enabled for the template.
        </RadzenText>
    </RadzenAlert>

    <div class="d-flex justify-content-end gap-2 mt-4">
        <RadzenButton Text="Close"
                     ButtonStyle="ButtonStyle.Primary"
                     Click="@Close" />
    </div>
</div>

@code {
    [Parameter] public QuestionItem Question { get; set; } = default!;

    private void Close()
    {
        // Return empty configuration (Goal questions don't need template items)
        DialogService.Close(new object());
    }
}

<style>
.goal-editor {
    max-width: 600px;
    margin: 0 auto;
}

.info-card {
    background: linear-gradient(135deg, #f5f7fa 0%, #ffffff 100%);
    border: 1px solid var(--rz-border-color);
}

.goal-editor ul {
    padding-left: 1.5rem;
    line-height: 1.8;
}

.goal-editor li {
    margin-bottom: 0.5rem;
}
</style>
