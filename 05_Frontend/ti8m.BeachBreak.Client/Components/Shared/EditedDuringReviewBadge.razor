@using ti8m.BeachBreak.Client.Models
@using Radzen.Blazor
@inherits OptimizedTranslatableComponentBase

@if (Response?.EditedDuringReview == true)
{
    <RadzenBadge BadgeStyle="BadgeStyle.Warning"
                 Text="@T("status.edited-during-review")"
                 Class="ms-2 badge-small"
                 title="@GetTooltipText()" />
}


@code {
    [Parameter]
    public QuestionResponse? Response { get; set; }

    private string GetTooltipText()
    {
        if (Response?.EditedDuringReview != true)
            return string.Empty;

        var baseText = T("tooltips.answer-modified-during-review");
        if (Response.EditedDuringReviewAt.HasValue)
        {
            return T("tooltips.answer-modified-on").Replace("{0}", Response.EditedDuringReviewAt.Value.ToLocalTime().ToString("MMM dd, yyyy HH:mm"));
        }
        return baseText;
    }
}
