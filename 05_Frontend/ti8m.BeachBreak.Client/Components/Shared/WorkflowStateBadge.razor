@using ti8m.BeachBreak.Client.Models

<span class="workflow-state-badge" style="background-color: @GetStateColor()">
    <i class="material-icons">@GetStateIcon()</i>
    <span>@GetStateDisplayName()</span>
</span>

<style>
    .workflow-state-badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 12px;
        border-radius: 16px;
        font-size: 12px;
        font-weight: 600;
        color: white;
        white-space: nowrap;
    }

    .workflow-state-badge i {
        font-size: 16px;
    }
</style>

@code {
    [Parameter]
    public string? WorkflowState { get; set; }

    private string GetStateDisplayName()
    {
        if (string.IsNullOrEmpty(WorkflowState))
            return "Unknown";

        return WorkflowStateHelper.GetStateDisplayName(WorkflowState);
    }

    private string GetStateColor()
    {
        if (string.IsNullOrEmpty(WorkflowState))
            return "#6c757d";

        return WorkflowStateHelper.GetStateColor(WorkflowState);
    }

    private string GetStateIcon()
    {
        if (string.IsNullOrEmpty(WorkflowState))
            return "help";

        return WorkflowStateHelper.GetStateIcon(WorkflowState);
    }
}
